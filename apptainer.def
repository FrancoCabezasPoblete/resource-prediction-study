BootStrap: docker
From: python:3.10-slim

%post
   apt-get update && apt-get install -y git ltrace strace make g++ valgrind sysstat
   apt-get autoremove -y && apt-get clean
   export PATH="/venv/bin:$PATH"
   pip install --no-cache-dir numpy icecream faker psutil
   cd / && git clone https://github.com/FrancoCabezasPoblete/resource-prediction-study
   cd /resource-prediction-study/benchmarks/simulated_annealing && make && cd /resource-prediction-study
   python /resource-prediction-study/benchmarks/sql_join/init_db.py 100 500 /resource-prediction-study/example.db
%runscript
   python /resource-prediction-study/src/main.py results/matrix_multiplication python /resource-prediction-study/benchmarks/matrix_multiplication/main.py 1000
   python /resource-prediction-study/src/main.py results/sql_join python /resource-prediction-study/benchmarks/sql_join/main.py /resource-prediction-study/example.db
   python /resource-prediction-study/src/main.py results/simulated_annealing /resource-prediction-study/benchmarks/simulated_annealing/sa_bench /resource-prediction-study/benchmarks/simulated_annealing/instancias/InstanceBEP-8-40-20-20.txt 100 1000 1 5
%labels
   Author Franco Cabezas
   Version v0.0.1